apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Development namespace configuration
resources:
  - ../../base

# Environment-specific namespace name
namePrefix: dev-

# Environment-specific patches
patches:
  - target:
      kind: Namespace
      name: python-api-1
    patch: |-
      - op: replace
        path: /metadata/name
        value: python-api-1-dev
      - op: replace
        path: /metadata/labels/environment
        value: development
      - op: replace
        path: /metadata/annotations/description
        value: "Development namespace for Python API 1 application"
      - op: add
        path: /metadata/labels/tier
        value: development
      - op: add
        path: /metadata/annotations/cost-center-code
        value: "ENG-001-DEV"
  - target:
      kind: ResourceQuota
      name: standard-quota
    patch: |-
      - op: replace
        path: /spec/hard/requests.cpu
        value: "4"
      - op: replace
        path: /spec/hard/requests.memory
        value: 8Gi
      - op: replace
        path: /spec/hard/limits.cpu
        value: "8"
      - op: replace
        path: /spec/hard/limits.memory
        value: 16Gi
      - op: replace
        path: /spec/hard/requests.storage
        value: 100Gi
      - op: replace
        path: /spec/hard/pods
        value: "30"
      - op: replace
        path: /spec/hard/services
        value: "15"
      - op: replace
        path: /spec/hard/configmaps
        value: "30"
      - op: replace
        path: /spec/hard/secrets
        value: "30"
      - op: replace
        path: /spec/hard/persistentvolumeclaims
        value: "15"
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Production namespace configuration
resources:
  - ../../base

# Environment-specific namespace name
namePrefix: prod-

# Environment-specific patches
patches:
  - target:
      kind: Namespace
      name: python-api-1
    patch: |-
      - op: replace
        path: /metadata/name
        value: python-api-1-prod
      - op: replace
        path: /metadata/labels/environment
        value: production
      - op: replace
        path: /metadata/annotations/description
        value: "Production namespace for Python API 1 application"
      - op: add
        path: /metadata/labels/tier
        value: production
      - op: add
        path: /metadata/annotations/cost-center-code
        value: "ENG-001-PROD"
      - op: replace
        path: /metadata/labels/security-level
        value: high
      - op: replace
        path: /metadata/labels/compliance-tier
        value: high
  - target:
      kind: ResourceQuota
      name: standard-quota
    patch: |-
      - op: replace
        path: /spec/hard/requests.cpu
        value: "8"
      - op: replace
        path: /spec/hard/requests.memory
        value: 16Gi
      - op: replace
        path: /spec/hard/limits.cpu
        value: "16"
      - op: replace
        path: /spec/hard/limits.memory
        value: 32Gi
      - op: replace
        path: /spec/hard/requests.storage
        value: 200Gi
      - op: replace
        path: /spec/hard/pods
        value: "50"
      - op: replace
        path: /spec/hard/services
        value: "20"
      - op: replace
        path: /spec/hard/configmaps
        value: "50"
      - op: replace
        path: /spec/hard/secrets
        value: "50"
      - op: replace
        path: /spec/hard/persistentvolumeclaims
        value: "20"
      - op: replace
        path: /spec/hard/services.loadbalancers
        value: "5"
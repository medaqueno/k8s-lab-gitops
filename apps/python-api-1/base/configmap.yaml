apiVersion: v1
kind: ConfigMap
metadata:
  # IMPORTANTE: Este nombre debe coincidir con el 'configMapRef' en deployment.yaml
  name: python-api-1-config
  labels:
    # Application labels
    app.kubernetes.io/name: python-api-1
    app.kubernetes.io/instance: python-api-1
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/component: backend
    app.kubernetes.io/part-of: k8s-enterprise-lab
    app.kubernetes.io/managed-by: gitops
    
    # Environment labels
    environment: development
    tier: backend
    
    # ConfigMap-specific labels
    config-type: application
    
    # Team and ownership
    team: platform-engineering
    owner: gitops-team
    
    # Monitoring labels
    logging: enabled
  annotations:
    # Description
    description: "Configuration for Python API 1 application"
    
    # GitOps metadata
    gitops.repo: "https://github.com/medaqueno/k8s-lab-gitops.git"
    gitops.path: "apps/python-api-1/base"
    
    # Contact information
    contact: "platform-engineering@example.com"
    
    # Change management
    change-management: "gitops"
    
    # Security
    security-level: standard
    compliance-tier: medium
    
    # Configuration metadata
    config.version: "1.0"
    config.environment: "development"
data:
  # Ejemplo de variable de entorno para la aplicación.
  # El valor por defecto se usa en la configuración base,
  # y se puede parchear en los overlays (dev/prod).
  APP_ENV: "development"
  
  # Application configuration
  APP_NAME: "python-api-1"
  LOG_LEVEL: "INFO"
  
  # Server configuration
  HOST: "0.0.0.0"
  PORT: "8000"
  
  # OTRAS VARIABLES DE EJEMPLO (descomentar si son necesarias):
  # URL_BASE_INTERNA: "http://internal-service-url"
  # DATABASE_URL: "postgresql://user:pass@host:port/db"
  # REDIS_URL: "redis://host:port"
